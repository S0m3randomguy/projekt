{% extends "../base.html" %}

{% block style %}
    {% static "css/login/styles.css" %}
{% endblock  %}

{% block title %}
    Fixxit{% block subtitle %}{% endblock %}
{% endblock %}

{% block background %}
    {% static "images/mountains.jpg" %}
{% endblock %}

{% block content %}
    <div class="container active">
        <div class="forms">
            <div class="form {% block name %}login{% endblock %}">
                <span class="title">{{ language.sections.register.register_title }}</span>
                
                <form action="/{% block name %}login{% endblock %}/" method="post">
                    {% csrf_token %}
                    {% for field in form %}
                    <div class="input-field">
                        {{ field }}

                        {% for key, value in assets.icons.items %}
                            {% if key == field.name %}
                                {% for icon in value %}
                                    {{ icon|safe }}
                                {% endfor %}
                            {% endif %}
                        {% endfor %}

                        {% if field.errors %}
                            <div class="error">
                                <div class="error-icon">!</div>
                                <div class="error-text">{{ field.errors.0 }}</div>
                            </div>
                        {% elif field.name in assets.non_field_errors and form.non_field_errors %}
                            <div class="error">
                                <div class="error-icon">!</div>
                                <div class="error-text">{{ form.non_field_errors.0 }}</div>
                            </div>
                        {% endif %}

                    </div>
                    {% endfor %}

                    <div class="checkbox-text">
                        <div class="checkbox-content">
                            <input type="checkbox" id="termCon" required>
                            <label for="termCon" class="text">{{ language.sections.register.terms_and_conditions }}</label>
                        </div>
                    </div>
                    <div class="input-field button">
                        <input type="submit" value="Sign up">
                    </div>
                </form>

                <div class="login-signup">
                    <span class="text">{{ language.sections.register.already_a_member }}
                        <a href="/login" class="text login-link">{{ language.sections.register.log_in_now }}</a>
                    </span>
                </div>
            </div>
        </div>
    </div>
    <div class="languages">
        <a href="?lang=en-US" class="us">
            <img src="{% static 'images/us-flag.png' %}" id="american">
            {% if language.lang == "en-US" %}
                <span class="tooltip" id="eng">{{ language.head.native_name }}</span>
            {% else %}
                <span class="tooltip" id="eng">English</span>
            {% endif %}
        </a>
        <a href="?lang=hr" class="cr">
            <img src="{% static 'images/croatian-flag.png' %}" id="croatian">
            {% if language.lang == "hr" %}
                <span class="tooltip" id="cro">{{ language.head.native_name }}</span>
            {% else %}
                <span class="tooltip" id="cro">Croatian</span>
            {% endif %}
        </a>
    </div>
{% endblock %}

{% block script %}
    {% static "js/login/script.js" %}
{% endblock %}